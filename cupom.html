<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ganhe cupons exclusivos na Pizzaria Moraes.">
    <title>Cupom Mágico - La Pizza Moraes</title>
    <link rel="icon" href="img/desenho-pizza.png" type="image/png">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="app-page">

    <header class="app-header-simple">
        <h1>Cupom Mágico</h1>
    </header>

    <main class="container">
        <!-- Seção para as campanhas ativas (jogos) -->
        <section id="active-campaigns-section" class="scratch-section">
            <h2><i class="material-icons">celebration</i> Jogue e Ganhe!</h2>
            <div id="campaigns-list">
                <p>Buscando novas chances para você...</p>
            </div>
        </section>

        <!-- Seção para os cupons já ganhos pelo usuário -->
        <section id="user-coupons-section" class="user-coupons" style="display: none;">
            <h2><i class="material-icons">card_giftcard</i> Meus Cupons</h2>
            <div id="user-coupons-list">
                <!-- Cupons ganhos serão inseridos aqui -->
            </div>
        </section>
    </main>

    <nav class="bottom-nav">
        <a href="cardapio.html" class="nav-item"><i class="material-icons">restaurant_menu</i><span>Cardápio</span></a>
        <a href="carrinho.html" class="nav-item">
            <i class="material-icons">shopping_cart</i><span>Carrinho</span>
            <span class="cart-notification-badge" id="cart-badge"></span>
        </a>
        <a href="cupom.html" class="nav-item active"><i class="material-icons">celebration</i><span>Cupom</span></a>
        <a href="perfil.html" class="nav-item"><i class="material-icons">person</i><span>Perfil</span></a>
        <a href="index.html" class="nav-item" id="logout-btn"><i class="material-icons">logout</i><span>Sair</span></a>
    </nav>

    <!-- ============================================= -->
    <!--     MODAL DO JOGO DA MEMÓRIA (EXCLUSIVO)      -->
    <!-- ============================================= -->
    <div class="game-overlay" id="game-overlay">
        <div class="game-modal" id="game-modal">
            <button class="close-modal-btn" id="close-game-btn">&times;</button>
            
            <!-- Tela inicial do Jogo -->
            <div id="game-start-screen">
                <h2 id="game-title">Jogo da Memória</h2>
                <p id="game-description">Encontre os pares para ganhar!</p>
                <div class="game-stats-grid">
                    <div class="stat-box">
                        <i class="material-icons">casino</i>
                        <div>
                            <span>Chances restantes</span>
                            <strong id="game-chances-left">0</strong>
                        </div>
                    </div>
                    <div class="stat-box">
                        <i class="material-icons">replay</i>
                        <div>
                            <span>Tentativas hoje</span>
                            <strong id="game-attempts-left">0</strong>
                        </div>
                    </div>
                </div>
                <div class="memory-game" id="memory-game-board">
                    <!-- Cards serão gerados aqui pelo JS -->
                </div>
            </div>

            <!-- Tela de Resultado (Vitória/Derrota) -->
            <div id="game-result-screen" style="display: none;">
                <h2 id="result-title"></h2>
                <p id="result-message"></p>
                <div id="modal-coupon-area" style="display: none;">
                    <p>Seu cupom exclusivo é:</p>
                    <div class="coupon-code-display">
                        <strong id="result-coupon-code"></strong>
                    </div>
                </div>
                <button id="modal-button" class="btn btn-primary"></button>
            </div>
        </div>
    </div>
    
    <script type="module" src="js/cupom.js"></script>
    <script type="module" src="js/main.js"></script>

</body>
</html>